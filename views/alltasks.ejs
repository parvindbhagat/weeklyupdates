<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>All Tasks</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="/stylesheets/style.css">
  </head>
  <body>
    Tasks list
    <div class="task_table">
        <table class="table-striped table-auto w-100 m-2 bg-white border border-gray-300" >
            <thead >
              <tr>
                  <th class="bg-warning px-4">Project</th>
                  <th class="bg-warning px-4">Task</th>
                  <th class="bg-warning px-4">Start</th>
                  <th class="bg-warning px-4">Finish</th>
                  <th class="bg-warning px-4">Actual Start</th>
                  <th class="bg-warning px-4">Actual Finish</th>
                  <th class="bg-warning px-4">Work (in Hours)</th>
                  <th class="bg-warning px-4">Comments</th>
                  <th class="bg-warning px-4">Status</th> 
                  <th class="bg-warning px-4">Completed in PWA?</th>                
              </tr>
            </thead>
            <tbody>
              <% tasks.forEach((ta) => { %>
                <tr class="tableData">
                  <td class="border border-gray-300 px-4 py-2 "><%= ta.projectName %></td>
                  <td class="border border-gray-300 px-4 py-2 "><%= ta.parentTaskName + " - " + ta.taskName %></td>
                  <td class="border border-gray-300 px-4 py-2 "><%= new Date(ta.start).toLocaleDateString() %></td>
                  <td class="border border-gray-300 px-4 py-2 "><%= new Date(ta.Finish).toLocaleDateString() %></td>
                  <td class="border border-gray-300 px-4 py-2 "><%= ta.actualStart %></td>
                  <td class="border border-gray-300 px-4 py-2 "><%= ta.actualFinish %></td>
                  <td class="border border-gray-300 px-4 py-2 "><%= ta.actualWork %></td>
                  <td class="border border-gray-300 px-4 py-2 "><%= ta.userComments %></td>
                  <td class="border border-gray-300 px-4 py-2 "><%= ta.status %></td>
                  <td class="border border-gray-300 px-4 py-2 "><%= ta.taskCompletePercent === "100" ? "Yes" : "No" %></td>
                  
                </tr>
              <% }); %>
            </tbody>
          </table>
    </div>
    <pre><%= JSON.stringify(tasks, null, 2) %></pre>

    <p>end of task list.</p>
  </body>
</html>
